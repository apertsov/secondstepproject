@model DistanceLessons.Models.DetailModuleTestResultsModel
@if (Model.TestResults.Count == 0)
{
    <h3>
        ніхто не проходив тестування з цього модуля
    </h3>
}
else
{
    <h2>
        Результат тестування з модуля</h2>

    <table style="width: 100%;">
        <tbody align="center">
            <tr>
                <td style="width: 25%;">
                    Логін користувача
                </td>
                <td>
                    Бали користувача
                </td>
                <td>
                    Початок тестування
                </td>
                @*    <td> Деталі тестування</td> *@
            </tr>
            @foreach (DistanceLessons.Models.TestResultModel userModuleResult in Model.TestResults)
            {
                <tr>
                    <td align="justify" style="padding: 10px;">
                        @userModuleResult.Login
                    </td>
                    <td>
                        @if (userModuleResult.Result == null)
                        {
                            @Html.TextHtml("Здає тест")
                        }
                        else
                        { 
                            @(userModuleResult.Result.ToString()+(userModuleResult.MaxPoints==null?"":"/"+userModuleResult.MaxPoints) )
                        }
                    </td>
                    <td>
                        @userModuleResult.StartTesting
                    </td>
                    <td>
                        @Ajax.ActionLink("Деталі тестування", "DetailsModuleUserAnswers", "Result", new { id = Model.Parameters.pickedElement, username = userModuleResult.Login, controllerName = Model.Parameters.ControllerName, divIdToReplace = Model.Parameters.DivIdToReplace }, new AjaxOptions() { UpdateTargetId = Model.Parameters.DivIdToReplace, InsertionMode = InsertionMode.Replace })
                        @if ((ViewBag.IsTeacherCourse) && (userModuleResult.Result != null))
                        {
                            <br />
                            @Ajax.ActionLink("Онулити результат тестування", "DeletePassModule", "Result", new { id = Model.Parameters.pickedElement, username = userModuleResult.Login, controllerName = Model.Parameters.ControllerName, divIdToReplace = Model.Parameters.DivIdToReplace }, new AjaxOptions() { UpdateTargetId = Model.Parameters.DivIdToReplace, InsertionMode = InsertionMode.Replace })                    
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
}