@using DistanceLessons.Models
@model IEnumerable<User>

@{

    var grid = new WebGrid(Model, rowsPerPage: 10, ajaxUpdateContainerId: "UsersGrid",defaultSort: "Login");
    @grid.GetHtml(tableStyle: "webgrid",
                        alternatingRowStyle: "webgrid-alternating-row",
                        headerStyle: "webgrid-header",
                        footerStyle: "webgrid-footer",
                        selectedRowStyle: "webgrid-selected-row",
                        rowStyle: "webgrid-row-style",
                        columns: grid.Columns(
                        grid.Column("Login", Html.Resource("Metadata, U_Login"), canSort: false, format: (item) => new HtmlString(Html.ActionLink((string)item.Login, "Info", "Profile", new { user = item.Login }, null).ToString())),
                            grid.Column("Email", Html.Resource("Metadata, U_Email"), canSort: false, format: @<i>@item.Email</i>),
                            grid.Column("Role.Name", Html.Resource("Metadata, R_Role"), canSort:false, format: @<i>@item.Role.Name</i>)
                                                                                            ))
}