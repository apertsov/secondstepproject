@model List<DistanceLessons.Models.CourseResultModel>
@if (Model != null)
{
    if (Model.Count == 0)
    {
       @Html.TextHtml("<h3>Ніхто не проходив тестування з цього предмету </h3>")
    }
    else
    {
    <h2>
        Результати тестування з курсу</h2>
    <table style="width: 100%;">
        <tbody>
            <tr>
                <th style="border: 1px solid black;width: 35%;">
                    Логін та ініціали користувача
                </th>
                <th style="border: 1px solid black;width: 35%;">
                    Здані модулі
                </th>
                <th style="border: 1px solid black;width: 15%;">
                    Результати модулів
                </th>
                <th style="border: 1px solid black;width: 15%;">
                    Оцінка за курс
                </th>
            </tr>
            @foreach (var userResult in Model)
            { 
                <tr align='center'>
                    <td style="border: 1px solid black;" >
                        @userResult.Login <br />
                        @userResult.FirstName @userResult.LastName @userResult.MiddleName
                    </td>
                    <td style="border: 1px solid black;" >
                        @foreach (var moduleName in userResult.PassedModules)
                        {
                            @Ajax.ActionLink(moduleName.Value, (string)ViewBag.controller, new { id = moduleName.Key, divIdToReplace = ViewBag.replaceDiv, type = DistanceLessons.Models.ElementsType.Module }, new AjaxOptions() { UpdateTargetId = ViewBag.replaceDiv, InsertionMode = InsertionMode.Replace })   
                            <br />  
                        }
                    </td>
                    <td style="border: 1px solid black;">
                        @foreach (var moduleResult in userResult.ResultModules)
                        {
                            @moduleResult.Value.ToString()
                            @Html.TextHtml("/")
                            @moduleResult.Key.ToString()
                            <br />
                        }
                    </td>
                    <td style="border: 1px solid black;">
                        @userResult.CourseResult
                    </td>
                </tr>
            }
        </tbody>
    </table>
    }

}
