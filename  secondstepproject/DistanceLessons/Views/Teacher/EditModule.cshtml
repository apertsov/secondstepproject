@model DistanceLessons.Models.Module

@{
    ViewBag.Title = Html.Resource("Layout, _module_edit");
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Html.Resource("Layout, _module_edit")</h2>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@*Calendar*@
<link href="@Url.Content("~/Content/Calendar/css/flick/jquery-ui-1.8.16.custom.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Content/Calendar/js/jquery-1.6.2.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/Calendar/js/jquery-ui-1.8.16.custom.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Content/Calendar/js/i18n/jquery-ui-i18n.js")" type="text/javascript"></script>
  
  <script type="text/javascript">
      //http://jqueryui.com/demos/datepicker
      $(document).ready(function () {
          $('#datePickerBegin').datepicker({ firstDay: 1, dateFormat: 'yy-mm-dd', changeMonth: true, changeYear: true, yearRange: "2011:2025", showOtherMonths: true });
      });

      $(function () {
          $.datepicker.setDefaults(
        $.extend($.datepicker.regional['@Html.Resource("Layout, local_short")']));
          $("#datepickerBegin").datepicker();
      });

      $(document).ready(function () {
          $('#datePickerEnd').datepicker({ firstDay: 1, dateFormat: 'yy-mm-dd', changeMonth: true, changeYear: true, yearRange: "2011:2025", showOtherMonths: true });
      });

      $(function () {
          $.datepicker.setDefaults(
        $.extend($.datepicker.regional['@Html.Resource("Layout, local_short")']));
          $("#datepickerEnd").datepicker();
      });
</script>


@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
   
        @Html.HiddenFor(model => model.ModuleId)
         @Html.HiddenFor(model => model.CourseId)

    <table class="center" cellspacing="10">
    <tr>
        <td class="error" colspan="2" align="center" style="border-top: 1px solid silver; padding-top: 20px;"></td>
    </tr>
    <tr>
        <td class="editor-label">  @Html.LabelFor(model => model.Title)</td>
        <td class="editor-field"> @Html.TextBoxFor(model => model.Title, new { @class = "editor" }) <font color="red">*</font></td>
    </tr>
    <tr>
        <td></td>
        <td class="error">@Html.ValidationMessageFor(model => model.Title)</td>
    </tr>
 
       
        <tr>
        <td class="editor-label">  @Html.LabelFor(model => model.TimeForPassTest)</td>
        <td class="editor-field"> @Html.TextBoxFor(model => model.TimeForPassTest, new { @class = "editor" }) <font color="red">*</font></td>
    </tr>
    <tr>
        <td></td>
        <td class="error">@Html.ValidationMessageFor(model => model.TimeForPassTest)</td>
    </tr>


    <tr>
        <td class="editor-label">  @Html.LabelFor(model => model.DateBeginTesting)</td>
        <td class="editor-field"> @Html.TextBoxFor(model => model.DateBeginTesting, new { @class = "editor", @id = "datePickerBegin", @readonly = true, @Value = Model.DateBeginTesting.ToString("yyyy-MM-dd") }) <font color="red">*</font></td>
    </tr>
   <tr>
        <td></td>
        <td class="error">@Html.ValidationMessageFor(model => model.DateBeginTesting)</td>
    </tr>      
       
    <tr>
        <td class="editor-label">  @Html.LabelFor(model => model.DateEndTesting)</td>
        <td class="editor-field">@Html.TextBoxFor(model => model.DateEndTesting, new { @class = "editor", @id = "datePickerEnd", @readonly = true,  @Value = Model.DateEndTesting.ToString("yyyy-MM-dd") }) <font color="red">*</font></td>
    </tr>
     <tr>
        <td></td>
        <td class="error">@Html.ValidationMessageFor(model => model.DateEndTesting)
        
        @if (!ViewBag.DateIsGood)
        {@Html.Label(Html.Resource("Layout, _module_time_invalid"), new { style = "color:red" })}</td>
    </tr> 
    <tr>
        <td class="editor-label">  @Html.LabelFor(model => model.MaxPoints)</td>
        <td class="editor-field"> @Html.TextBoxFor(model => model.MaxPoints, new { @class = "editor" }) <font color="red">*</font></td>
    </tr>
    <tr>
        <td></td>
        <td class="error">@Html.ValidationMessageFor(model => model.MaxPoints)</td>
    </tr>

           
    <tr>
        <td class="editor-label">  @Html.LabelFor(model => model.CountQuestions)</td>
        <td class="editor-field"> @Html.TextBoxFor(model => model.CountQuestions, new { @class = "editor" })</td>
    </tr>
    <tr>
        <td></td>
        <td class="error">@Html.ValidationMessageFor(model => model.CountQuestions)</td>
    </tr>

    <tr>
        <td class="error" colspan="2" align="center" style="border-top: 1px solid silver; padding-top: 20px;"></td>
    </tr>
</table>
        <p>
            <input type="submit" value=@Html.Resource("Layout, save") />
        </p>

}

<div>
    @Html.ActionLink(Html.Resource("Layout, cancel"), "Course", new { id = Model.CourseId })
</div>
